<launch>
    <arg name="initial_pose_x" default="0.0"/>
    <arg name="initial_pose_y" default="0.0"/>
    <arg name="initial_pose_a" default="0.0"/>

    <arg name="robot_namespace" default="rover_0"/>

    <arg name="map_file" default="$(find lidar_navigation)/maps/mymap_empty.yaml"/>

    <include file = "$(find lidar_navigation)/launch/start_map_server.launch">
        <arg name="map_file" value="$(arg map_file)"/>
    </include>

    <include file = "$(find lidar_navigation)/launch/acml.launch">
        <arg name="initial_pose_x" value="$(arg initial_pose_x)"/>
        <arg name="initial_pose_y" value="$(arg initial_pose_y)"/>
        <arg name="initial_pose_a" value="$(arg initial_pose_a)"/>
        <arg name="robot_namespace" value="$(arg robot_namespace)"/>
    </include>

    <include file = "$(find lidar_navigation)/launch/move_base.launch">
        <arg name="robot_namespace" value="$(arg robot_namespace)"/>
    </include>
    
    <include file = "$(find lidar_navigation)/launch/ekf_localization.launch">
        <arg name="robot_namespace" value="$(arg robot_namespace)"/>
    </include>
</launch>